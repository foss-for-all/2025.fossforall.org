---
import type { ui } from "@/i18n/ui";
import { useTranslations, useTranslatedPath } from "@/i18n/utils";
import Layout from "@/layouts/Layout.astro";
import Pictogram from "@/assets/pictogram.svg";
import SponsorsBanner from "@/components/Sponsors.astro";
import BlogFeed from "@/components/BlogFeed.astro";
import Speakers from "@/components/Speakers.astro";
import { WebsiteConfig } from "@/config";

export interface Props {
    lang: keyof typeof ui;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);
const config = WebsiteConfig(lang);
const speakersToExpose = config.pretalx.keynoteSpeakers;
---

<Layout>
    <section class="hero is-medium">
        <div
            class="fixed-grid has-2-cols-desktop has-2-cols-tablet has-1-cols-mobile"
        >
            <div class="grid">
                <div class="cell">
                    <img
                        src={Pictogram.src}
                        alt="FOSS for All Pictogram"
                        style="margin-top: 50px; max-width: 80vw; max-height: 800px"
                    />
                </div>
                <div class="cell">
                    <div class="hero-body">
                        <h1 class="title is-size-1 mb-0">
                            FOSS for All Conference
                        </h1>
                        <h1 class="is-size-1">Coexist with Open Source</h1>
                        <h1 class="is-size-1">{t("home.hero.date")}</h1>
                        <h1 class="is-size-1">{t("home.hero.venue")}</h1>
                        <hr />
                        <a
                            class="button is-large m-1 is-primary"
                            href="https://event-us.kr/fossforall/event/110400"
                        >
                            <span class="icon">
                                <i class="fa-solid fa-ticket"></i>
                            </span>
                            <span>{t("home.hero.register")}</span>
                        </a>
                        <a
                            class="button is-large m-1"
                            href={translatePath("/schedules")}
                        >
                            {t("nav.schedules")}
                        </a>
                        <a
                            class="button is-large m-1"
                            href="https://discord.gg/YbXE6ZMpbX"
                        >
                            {t("home.hero.discord")}
                        </a>
                        <a
                            class="button is-large m-1"
                            href={translatePath("/booths")}
                        >
                            {t("nav.booths")}
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="container p-3">
            <h2 class="title is-size-2 mt-3 mb-5">{t("banner.speakers")}</h2>
            <Speakers speakersToExpose={speakersToExpose} />
            <a class="button m-1 is-large" href="./speakers">
                <span>
                    {t("banner.speakers.more")}
                </span>
                <span class="icon">
                    <i class="fa-solid fa-arrow-right"></i>
                </span>
            </a>
        </div>
        <div class="container p-3">
            <h2 class="title is-size-2 mt-3 mb-5">{t("banner.blog")}</h2>
            <BlogFeed feedUrl={config.blogFeedUrl} />
        </div>
        <div class="container mt-5 mb-5 p-3">
            <h2 class="title is-size-2 mt-3 mb-5">{t("banner.sponsors")}</h2>
            <SponsorsBanner />
        </div>
    </section>
</Layout>
