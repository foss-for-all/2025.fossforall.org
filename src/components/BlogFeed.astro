---
import RssParser from "rss-parser";
import { BlogCard } from "@/components/BlogCard";

const {feedUrl} = Astro.props;
const parser = new RssParser();
const feed = await parser.parseURL(feedUrl as string);
const posts = feed.items.slice(0, 3);
---


  <div class="columns is-multiline">
    {posts.map((post) => (
      <div class="column is-one-third">
        <BlogCard
          client:load
          title={post.title as string}
          link={post.link as string}
          pubDate={post.pubDate as string}
          contentSnippet={post.contentSnippet as string}
        />
      </div>
    ))}
  </div>